{% block epic_editor_widget %}
    <textarea style="display: none;" {{ block('widget_attributes') }}></textarea>
    <div id="epic_editor"></div>

    <script type="text/javascript" src="{{ js_path }}"></script>
    <script type="text/javascript">
        (function() {
            var opts = {
                container           : {{ options.container }},
                textarea            : {{ options.textarea }},
                basePath            : {{ options.base_path }},
                clientSideStorage   : {{ options.client_side_storage }},
                localStorageName    : {{ options.local_storage_name }},
                useNativeFullscreen : {{ options.use_native_fullsreen }},
                parser              : {{ options.parser }},
                focusOnLoad         : {{ options.focus_on_load }},
                autogrow            : {{ options.autogrow }},
                file : {
                    name           : {{ options.file.name }},
                    defaultContent : {{ options.file.default_content }},
                    autoSave       : {{ options.file.auto_save }}
                },
                theme : {
                    base    : {{ options.theme.base }},
                    preview : {{ options.theme.preview }},
                    editor  : {{ options.theme.editor }}
                },
                button: {
                    preview    : {{ options.button.preview }},
                    fullscreen : {{ options.button.fullscreen }},
                    bar        : {{ options.button.bar }}
                },
                shortcut : {
                    modifier   : {{ options.shortcut.modifier }},
                    fullscreen : {{ options.shortcut.fullscreen }},
                    preview    : {{ options.shortcut.preview }}
                },
                string: {
                    togglePreview    : {{ options.shortcut.toogle_preview }},
                    toggleEdit       : {{ options.shortcut.toogle_edit }},
                    toggleFullscreen : {{ options.shortcut.toogle_fullscreen }}
                }
            };

            new EpicEditor(opts).load();
        })();
    </script>
{% endblock %}
